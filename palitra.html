<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Color Picker</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: #f5f5f5;
            margin: 0;
            padding: 20px;
        }

        .color-picker-container {
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            padding: 20px;
            width: 100%;
            max-width: 400px;
        }

        .color-display {
            width: 100%;
            height: 200px;
            border-radius: 8px;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
            background: linear-gradient(to right, 
                #ff0000, #ffff00, #00ff00, #00ffff, #0000ff, #ff00ff, #ff0000);
        }

        .color-gradient {
            width: 100%;
            height: 100%;
            background: linear-gradient(to top, rgba(0, 0, 0, 1), rgba(0, 0, 0, 0));
        }

        .picker-circle {
            position: absolute;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 2px solid white;
            box-shadow: 0 0 3px rgba(0, 0, 0, 0.5);
            transform: translate(-10px, -10px);
            pointer-events: none;
            z-index: 2;
        }

        .color-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .color-format {
            margin-bottom: 10px;
        }

        .color-format h3 {
            margin: 0 0 5px 0;
            font-size: 16px;
        }

        .color-value {
            background: #f0f0f0;
            padding: 8px;
            border-radius: 4px;
            font-family: monospace;
        }

        .home-btn {
            display: inline-block;
            margin-top: 20px;
            padding: 8px 16px;
            background: #4a6fa5;
            color: white;
            text-decoration: none;
            border-radius: 4px;
            font-size: 14px;
            transition: background 0.3s;
        }

        .home-btn:hover {
            background: #3a5a8f;
        }
    </style>
</head>
<body>
    <div class="color-picker-container">
        <h2>Color Picker</h2>
        
        <div class="color-display">
            <div class="color-gradient"></div>
            <div class="picker-circle" id="picker"></div>
        </div>
        
        <div class="color-info">
            <div class="color-format">
                <h3>HEX</h3>
                <div class="color-value" id="hex-value">#ffffff</div>
            </div>
            
            <div class="color-format">
                <h3>RGB</h3>
                <div class="color-value" id="rgb-value">255, 255, 255</div>
            </div>
            
            <div class="color-format">
                <h3>HSL</h3>
                <div class="color-value" id="hsl-value">0°, 0%, 100%</div>
            </div>
            
            <div class="color-format">
                <h3>HSV</h3>
                <div class="color-value" id="hsv-value">0°, 0%, 100%</div>
            </div>
        </div>
        
        <a href="index.html" class="home-btn">← Back to Home</a>
    </div>

    <script>
        const colorDisplay = document.querySelector('.color-display');
        const picker = document.getElementById('picker');
        const hexValue = document.getElementById('hex-value');
        const rgbValue = document.getElementById('rgb-value');
        const hslValue = document.getElementById('hsl-value');
        const hsvValue = document.getElementById('hsv-value');
        
        let isDragging = false;
        
        // Set initial position (center)
        const initX = colorDisplay.offsetWidth / 2;
        const initY = colorDisplay.offsetHeight / 2;
        picker.style.left = `${initX}px`;
        picker.style.top = `${initY}px`;
        updateColor(initX, initY);
        
        // Mouse/touch events
        colorDisplay.addEventListener('mousedown', startDrag);
        colorDisplay.addEventListener('touchstart', startDrag);
        
        document.addEventListener('mousemove', drag);
        document.addEventListener('touchmove', drag);
        
        document.addEventListener('mouseup', endDrag);
        document.addEventListener('touchend', endDrag);
        
        function startDrag(e) {
            isDragging = true;
            updatePickerPosition(e);
            e.preventDefault();
        }
        
        function drag(e) {
            if (isDragging) {
                updatePickerPosition(e);
            }
        }
        
        function endDrag() {
            isDragging = false;
        }
        
        function updatePickerPosition(e) {
            const rect = colorDisplay.getBoundingClientRect();
            let x, y;
            
            if (e.type.includes('touch')) {
                x = e.touches[0].clientX - rect.left;
                y = e.touches[0].clientY - rect.top;
            } else {
                x = e.clientX - rect.left;
                y = e.clientY - rect.top;
            }
            
            // Constrain to color display area
            x = Math.max(0, Math.min(x, rect.width));
            y = Math.max(0, Math.min(y, rect.height));
            
            picker.style.left = `${x}px`;
            picker.style.top = `${y}px`;
            
            updateColor(x, y);
        }
        
        function updateColor(x, y) {
            const hue = (x / colorDisplay.offsetWidth) * 360;
            const saturation = 100;
            const lightness = 100 - (y / colorDisplay.offsetHeight) * 100;
            
            // Convert HSL to RGB
            const rgb = hslToRgb(hue / 360, saturation / 100, lightness / 100);
            const r = Math.round(rgb[0] * 255);
            const g = Math.round(rgb[1] * 255);
            const b = Math.round(rgb[2] * 255);
            
            // Convert RGB to HEX
            const hex = rgbToHex(r, g, b);
            
            // Convert HSL to HSV
            const hsv = hslToHsv(hue, saturation, lightness);
            
            // Update display
            hexValue.textContent = `#${hex}`;
            rgbValue.textContent = `${r}, ${g}, ${b}`;
            hslValue.textContent = `${Math.round(hue)}°, ${Math.round(saturation)}%, ${Math.round(lightness)}%`;
            hsvValue.textContent = `${Math.round(hsv.h)}°, ${Math.round(hsv.s)}%, ${Math.round(hsv.v)}%`;
            
            // Update picker color
            picker.style.backgroundColor = `hsl(${hue}, ${saturation}%, ${lightness}%)`;
        }
        
        // Helper functions
        function hslToRgb(h, s, l) {
            let r, g, b;
            
            if (s === 0) {
                r = g = b = l;
            } else {
                const hue2rgb = (p, q, t) => {
                    if (t < 0) t += 1;
                    if (t > 1) t -= 1;
                    if (t < 1/6) return p + (q - p) * 6 * t;
                    if (t < 1/2) return q;
                    if (t < 2/3) return p + (q - p) * (2/3 - t) * 6;
                    return p;
                };
                
                const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
                const p = 2 * l - q;
                
                r = hue2rgb(p, q, h + 1/3);
                g = hue2rgb(p, q, h);
                b = hue2rgb(p, q, h - 1/3);
            }
            
            return [r, g, b];
        }
        
        function rgbToHex(r, g, b) {
            return ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);
        }
        
        function hslToHsv(h, s, l) {
            s = s / 100;
            l = l / 100;
            
            const v = l + s * Math.min(l, 1 - l);
            const s2 = v === 0 ? 0 : 2 * (1 - l / v);
            
            return {
                h: h,
                s: s2 * 100,
                v: v * 100
            };
        }
    </script>
</body>
</html>